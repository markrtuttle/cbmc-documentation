<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CProver assets: XML Specification for CBMC Traces</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CProver assets
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">XML Specification for CBMC Traces </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Traces of GOTO programs consist of <em>steps</em>, i.e. steps are elements of the XML object.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Trace Step Types</h1>
<ul>
<li>assignment</li>
<li>assume</li>
<li>assert</li>
<li>goto instruction</li>
<li>function call</li>
<li>function return</li>
<li>output</li>
<li>input</li>
<li>declaration</li>
<li>dead statement</li>
<li>spawn statement</li>
<li>memory barrier</li>
</ul>
<p>unused:</p>
<ul>
<li>constraint</li>
<li>location</li>
<li>shared read</li>
<li>shared write</li>
<li>atomic begin</li>
<li>atomic end</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Source Location</h1>
<p>Every trace step optionally contains the source location as an element.</p>
<p><b>Attributes</b> (all are optional):</p>
<ul>
<li><code>working-directory</code>: string of the full path</li>
<li><code>file</code>: name of the file containing this location</li>
<li><code>line</code>: non-negative integer</li>
<li><code>column</code>: non-negative integer</li>
<li><code>function</code>: name of the function this line belongs to</li>
</ul>
<p><b>Example</b>:</p>
<p><code>{.xml} &lt;location file="test.c" function="main" line="7" working-directory="/tmp/subfolder"/&gt;</code></p>
<p><b>XSD</b>:</p>
<p><code>{.xml} &lt;xs:element name="location"&gt; &lt;xs:complexType&gt; &lt;xs:attribute name="file" type="xs:string" use="optional"/&gt; &lt;xs:attribute name="line" type="xs:int" use="optional"/&gt; &lt;xs:attribute name="column" type="xs:int" use="optional"/&gt; &lt;xs:attribute name="working-directory" type="xs:string" use="optional"/&gt; &lt;xs:attribute name="function" type="xs:string" use="optional"/&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</code></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Trace Steps in XML</h1>
<p>The attributes <code>hidden, thread, step_nr</code> are common to all trace steps.</p>
<p><code>{.xml} &lt;xs:attributeGroup name="traceStepAttrs"&gt; &lt;xs:attribute name="hidden" type="xs:string"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="step_nr" type="xs:int"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="thread" type="xs:int"&gt;&lt;/xs:attribute&gt; &lt;/xs:attributeGroup&gt;</code></p>
<p>Assert (element name: <code>failure</code>)</p>
<p><b>Attributes</b>:</p>
<ul>
<li><code>hidden</code>: boolean attribute</li>
<li><code>thread</code>: thread number (positive integer)</li>
<li><code>step_nr</code>: number in the trace (positive integer)</li>
<li><code>reason</code>: comment (string)</li>
<li><code>property</code>: property ID (irep_idt)</li>
</ul>
<p><b>Example</b>:</p>
<p><code>{.xml} &lt;failure hidden="false" step_nr="23" thread="0" property="main.assertion.1" reason="assertion a + b &amp;lt; 10"&gt; &lt;location .. /&gt; &lt;/failure&gt;</code></p>
<p><b>XSD</b>:</p>
<p><code>{.xml} &lt;xs:element name="failure"&gt; &lt;xs:complexType&gt; &lt;xs:all&gt; &lt;xs:element name="location" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;/xs:all&gt; &lt;xs:attributeGroup ref="traceStepAttrs"&gt; &lt;xs:attribute name="property" type="xs:string"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="reason" type="xs:string"&gt;&lt;/xs:attribute&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</code></p>
<p>Assignment, Declaration (element name: <code>assignment</code>)</p>
<p><b>Attributes</b>:\ if the lhs symbol is known</p>
<ul>
<li><code>mode</code>: {C, Java, ...}</li>
<li><code>identifier</code>: string (symbol name)</li>
<li><code>base_name</code>: string (e.g. "counter")</li>
<li><code>display_name</code>: string (e.g. "main::1::counter")</li>
</ul>
<p>always present</p>
<ul>
<li><code>hidden</code>: boolean attribute</li>
<li><code>thread</code>: thread number (positive integer)</li>
<li><code>step_nr</code>: number in the trace (positive integer)</li>
<li><code>assignment_type</code>: {actual_parameter, state}</li>
</ul>
<p><b>Elements</b>:\ if the lhs symbol is known</p>
<ul>
<li><code>type</code>: C type (e.g. "signed int")</li>
</ul>
<p>always present</p>
<ul>
<li><code>full_lhs</code>: original lhs expression (after dereferencing)</li>
<li><code>full_lhs_value</code>: a constant with the new value.<ul>
<li>If the type of data can be represented as a fixed width sequence of bits then, there will be an attribute <code>binary</code> containing the binary representation. If the data type is signed and the value is negative then the binary will be encoded using two's complement.</li>
</ul>
</li>
</ul>
<p><b>Example</b>:</p>
<p><code>{.xml} &lt;assignment assignment_type="state" base_name="b" display_name="main::1::b" hidden="false" identifier="main::1::b" mode="C" step_nr="22" thread="0"&gt; &lt;location .. /&gt; &lt;type&gt;signed int&lt;/type&gt; &lt;full_lhs&gt;b&lt;/full_lhs&gt; &lt;full_lhs_value binary="10010000000000000000000000000000"&gt;-1879048192&lt;/full_lhs_value&gt; &lt;/assignment&gt; &lt;assignment assignment_type="state" base_name="d" display_name="main::1::d" hidden="false" identifier="main::1::d" mode="C" step_nr="26" thread="0"&gt; &lt;location file="main.i" function="main" line="3" working-directory="/home/tkiley/workspace/cbmc/regression/cbmc/Float24"/&gt; &lt;type&gt;double&lt;/type&gt; &lt;full_lhs&gt;d&lt;/full_lhs&gt; &lt;full_lhs_value binary="0100000000010100011001100110011001100110011001100110011001100110"&gt;5.1&lt;/full_lhs_value&gt; &lt;/assignment&gt;</code></p>
<p><b>XSD</b>:</p>
<p><code>{.xml} &lt;xs:element name="assignment"&gt; &lt;xs:complexType&gt; &lt;xs:all&gt; &lt;xs:element name="location" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;xs:element name="type" type="xs:string" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;xs:element name="full_lhs" type="xs:string"&gt;&lt;/xs:element&gt; &lt;xs:element name="full_lhs_value"&gt; &lt;xs:complexType&gt; &lt;xs:simpleContent&gt; &lt;xs:extension base="xs:string"&gt; &lt;xs:attribute name="binary" type="xs:string"/&gt; &lt;/xs:extension&gt; &lt;/xs:simpleContent&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt; &lt;/xs:all&gt; &lt;xs:attributeGroup ref="traceStepAttrs"&gt; &lt;xs:attribute name="assignment_type" type="xs:string"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="base_name" type="xs:string" use="optional"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="display_name" type="xs:string" use="optional"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="identifier" type="xs:string" use="optional"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="mode" type="xs:string" use="optional"&gt;&lt;/xs:attribute&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</code></p>
<p>Input (element name: <code>input</code>)</p>
<p><b>Attributes</b>:</p>
<ul>
<li><code>hidden</code>: boolean attribute</li>
<li><code>thread</code>: thread number (positive integer)</li>
<li><code>step_nr</code>: number in the trace (positive integer)</li>
</ul>
<p><b>Elements</b>:</p>
<ul>
<li><code>input_id</code>: IO id (the variable name)</li>
</ul>
<p>for each IO argument</p>
<ul>
<li><code>value</code>: the (correctly typed) value the input is initialised with</li>
<li><code>value_expression</code>: the internal representation of the value</li>
</ul>
<p><b>Example</b>:</p>
<p><code>{.xml} &lt;input hidden="false" step_nr="21" thread="0"&gt; &lt;input_id&gt;i&lt;/input_id&gt; &lt;value&gt;-2147145201&lt;/value&gt; &lt;value_expression&gt; &lt;integer binary="10000000000001010010101000001111" c_type="int" width="32"&gt; -2147145201 &lt;/integer&gt; &lt;/value_expression&gt; &lt;location .. /&gt; &lt;/input&gt;</code></p>
<p><b>XSD</b>:</p>
<p><code>{.xml} &lt;xs:element name="input"&gt; &lt;xs:complexType&gt; &lt;xs:sequence&gt; &lt;xs:element name="input_id" type="xs:string"/&gt; &lt;xs:sequence minOccurs="0" maxOccurs="unbounded"&gt; &lt;xs:element name="value" type="xs:string"/&gt; &lt;xs:element ref="value_expression"/&gt; &lt;/xs:sequence&gt; &lt;xs:element ref="location" minOccurs="0"/&gt; &lt;/xs:sequence&gt; &lt;xs:attributeGroup ref="traceStepAttrs"/&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</code></p>
<p>Output (element name: <code>output</code>)</p>
<p><b>Attributes</b>:</p>
<ul>
<li><code>hidden</code>: boolean attribute</li>
<li><code>thread</code>: thread number (positive integer)</li>
<li><code>step_nr</code>: number in the trace (positive integer)</li>
</ul>
<p><b>Elements</b>:</p>
<ul>
<li><code>text</code>: formatted list of IO arguments</li>
</ul>
<p>for each IO argument</p>
<ul>
<li><code>text</code>: The textual representation of the output</li>
<li><code>location</code>: The original source location of the output</li>
<li><code>value</code>: the (correctly typed) value of the object that is being output</li>
<li><code>value_expression</code>: the internal representation of the value</li>
</ul>
<p><code>{.xml} &lt;xs:element name="output"&gt; &lt;xs:complexType&gt; &lt;xs:sequence&gt; &lt;xs:element name="text" type="xs:string"/&gt; &lt;xs:element ref="location" minOccurs="0"/&gt; &lt;xs:sequence minOccurs="0" maxOccurs="unbounded"&gt; &lt;xs:element name="value" type="xs:string"/&gt; &lt;xs:element ref="value_expression"/&gt; &lt;/xs:sequence&gt; &lt;/xs:sequence&gt; &lt;xs:attributeGroup ref="traceStepAttrs"/&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</code></p>
<p>Function Call (element name: <code>function_call</code>)\ Function Return (element name: <code>function_return</code>)</p>
<p><b>Attributes</b>:</p>
<ul>
<li><code>hidden</code>: boolean attribute</li>
<li><code>thread</code>: thread number (positive integer)</li>
<li><code>step_nr</code>: number in the trace (positive integer)</li>
</ul>
<p><b>Elements</b>:</p>
<ul>
<li><p class="startli"><code>function</code>: compound element containing the following\ Attributes:</p><ul>
<li><code>display_name</code>: language specific pretty name</li>
<li><code>identifier</code>: the internal unique identifier</li>
</ul>
<p class="startli">Elements:</p><ul>
<li><code>location</code>: source location of the called function</li>
<li><code>function</code>: The function that is being called/returned from.</li>
</ul>
</li>
</ul>
<p><b>Example</b>:</p>
<p><code>{.xml} &lt;function_call hidden="false" step_nr="20" thread="0"&gt; &lt;function display_name="main" identifier="main"&gt; &lt;location .. /&gt; &lt;/function&gt; &lt;location .. /&gt; &lt;/function_call&gt;</code></p>
<p><b>XSD</b>:</p>
<p>``` {.xml} &lt;xs:element name="function_call"&gt; &lt;xs:complexType&gt; &lt;xs:all&gt; &lt;xs:element name="location" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;xs:element ref="function"/&gt; &lt;/xs:all&gt; &lt;xs:attributeGroup ref="traceStepAttrs"&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</p>
<p>&lt;xs:element name="function_return"&gt; &lt;xs:complexType&gt; &lt;xs:sequence&gt; &lt;xs:element ref="function"/&gt; &lt;xs:element ref="location" minOccurs="0"/&gt; &lt;/xs:sequence&gt; &lt;xs:attributeGroup ref="traceStepAttrs"/&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</p>
<p>&lt;xs:element name="function"&gt; &lt;xs:complexType&gt; &lt;xs:all&gt; &lt;xs:element name="location" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;/xs:all&gt; &lt;xs:attribute name="display_name" type="xs:string"&gt;&lt;/xs:attribute&gt; &lt;xs:attribute name="identifier" type="xs:string"&gt;&lt;/xs:attribute&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt; ```</p>
<p>All Other Steps (element name: <code>location-only</code> and <code>loop-head</code>)</p>
<p>A step that indicates where in the source program we are.</p>
<p>A <code>location-only</code> step is emitted if the source location exists and differs from the previous one.</p>
<p>A <code>loop-head</code> step is emitted if the location relates to the start of a loop, even if the previous step is also the same start of the loop (to ensure that it is printed out for each loop iteration)</p>
<p><b>Attributes</b>:</p>
<ul>
<li><code>hidden</code>: boolean attribute</li>
<li><code>thread</code>: thread number (positive integer)</li>
<li><code>step_nr</code>: number in the trace (positive integer)</li>
</ul>
<p><b>Elements</b>:</p>
<ul>
<li><code>location</code>: location of the called function</li>
</ul>
<p><b>Example</b>:</p>
<p><code>{.xml} &lt;location-only hidden="false" step_nr="19" thread="0"&gt; &lt;location .. /&gt; &lt;/location-only&gt; &lt;loop-head hidden="false" step_nr="19" thread="0"&gt; &lt;location .. /&gt; &lt;/loop-head&gt;</code></p>
<p><b>XSD</b>:</p>
<p>``` {.xml} &lt;xs:element name="location-only"&gt; &lt;xs:complexType&gt; &lt;xs:all&gt; &lt;xs:element name="location" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;/xs:all&gt; &lt;xs:attributeGroup ref="traceStepAttrs"&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</p>
<p>&lt;xs:element name="loop-head"&gt; &lt;xs:complexType&gt; &lt;xs:all&gt; &lt;xs:element name="location" minOccurs="0"&gt;&lt;/xs:element&gt; &lt;/xs:all&gt; &lt;xs:attributeGroup ref="traceStepAttrs"&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt; ```</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Full Trace XSD</h1>
<p><code>{.xml} &lt;xs:element name="goto_trace"&gt; &lt;xs:complexType&gt; &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt; &lt;xs:element ref="assignment"&gt;&lt;/xs:element&gt; &lt;xs:element ref="failure"&gt;&lt;/xs:element&gt; &lt;xs:element ref="function_call"&gt;&lt;/xs:element&gt; &lt;xs:element ref="function_return"&gt;&lt;/xs:element&gt; &lt;xs:element ref="input"&gt;&lt;/xs:element&gt; &lt;xs:element ref="output"&gt;&lt;/xs:element&gt; &lt;xs:element ref="location-only"&gt;&lt;/xs:element&gt; &lt;xs:element ref="loop-head"&gt;&lt;/xs:element&gt; &lt;/xs:choice&gt; &lt;/xs:complexType&gt; &lt;/xs:element&gt;</code></p>
<h1><a class="anchor" id="autotoc_md7"></a>
Notes</h1>
<p>The path from the input C code to XML trace goes through the following steps:\ <code>C</code> → <code>GOTO</code> → <code>SSA</code> → <code>GOTO Trace</code> → <code>XML Trace</code></p>
<h3><a class="anchor" id="autotoc_md8"></a>
SSA to GOTO Trace</h3>
<p>SSA steps are sorted by clocks and the following steps are skipped: PHI, GUARD assignments; shared-read, shared-write, constraint, spawn, atomic-begin, atomic-end.</p>
<p>Last modified: 2022-09-21 19:02:04 -0400 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
